<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>202144632 서해준 PLT term proj</title>
  </head>

  <body>
    <script src="./parser.js"></script>
    <script>
      const code = document.createElement('input');
      code.style = `display: block; width: 100%; margin-bottom: 2em;`;
      code.value = '((lambda (x) x) "Lisp")';
      document.body.appendChild(code);

      const button = document.createElement('button');
      button.innerText = 'parse!';
      button.style = `margin-bottom: 2em;`;
      button.addEventListener('click', () => {
        const t = tokenize(code.value);
        const p = parenthesize(tokenize(code.value));
        output.innerText = JSON.stringify(p);
        console.log('input: ', code.value);
        console.log('tokenization:', t);
        console.log('parenthesize:', p);
      });
      document.body.appendChild(button);

      const btn2 = document.createElement('button');
      btn2.innerText = 'invoke!';
      btn2.style = `margin-bottom: 2em;`;
      btn2.addEventListener('click', () => {
        const p = parenthesize(tokenize(code.value));
        console.log(interpret(p));
      });
      document.body.appendChild(btn2);

      const output = document.createElement('textarea');
      output.style = `display: block; width: 100%; height: 200px;`;
      document.body.appendChild(output);
    </script>
  </body>
</html>
